<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   <extension
         point="com.neXtep.designer.ui.typeController">
      <typeController
            class="com.nextep.designer.dbgm.ui.controllers.TableUIController"
            typeId="TABLE">
      </typeController>
      <typeController
            class="com.nextep.designer.dbgm.ui.controllers.UniqueKeyUIController"
            typeId="UNIQUE_KEY">
      </typeController>
      <typeController
            class="com.nextep.designer.dbgm.ui.controllers.ForeignKeyUIController"
            typeId="FOREIGN_KEY">
      </typeController>
      <typeController
            class="com.nextep.designer.dbgm.ui.controllers.ColumnUIController"
            typeId="COLUMN">
      </typeController>
      <typeController
            class="com.nextep.designer.dbgm.ui.controllers.DiagramUIController"
            typeId="DIAGRAM">
      </typeController>
      <typeController
            class="com.nextep.designer.dbgm.ui.controllers.SequenceUIController"
            typeId="SEQUENCE">
      </typeController>
      <typeController
            class="com.nextep.designer.dbgm.ui.controllers.IndexUIController"
            typeId="INDEX">
      </typeController>
      <typeController
            class="com.nextep.datadesigner.dbgm.ctrl.UserTypeController"
            typeId="USER_TYPE">
      </typeController>
      <typeController
            class="com.nextep.designer.dbgm.ui.controllers.TypeColumnUIController"
            typeId="TYPE_COLUMN">
      </typeController>
      <typeController
            class="com.nextep.datadesigner.dbgm.ctrl.DiagramItemController"
            typeId="DIAGRAM_ITEM">
      </typeController>
      <typeController
            class="com.nextep.datadesigner.dbgm.ctrl.ColumnValueController"
            typeId="COLUMN_VALUE">
      </typeController>
      <typeController
            class="com.nextep.datadesigner.dbgm.ctrl.DomainController"
            typeId="DOMAIN">
      </typeController>
      <typeController
            class="com.nextep.datadesigner.dbgm.ctrl.DomainVendorTypeController"
            typeId="VENDOR_TYPE">
      </typeController>
      <typeController
            class="com.nextep.designer.dbgm.ui.controllers.SynonymUIController"
            typeId="SYNONYM">
      </typeController>
      <typeController
            class="com.nextep.designer.dbgm.ui.controllers.TablePhysicalPropertiesUIController"
            typeId="TAB_PHYSPROPS">
      </typeController>
      <typeController
            class="com.nextep.designer.dbgm.ui.controllers.IndexPhysicalPropertiesUIController"
            typeId="IND_PHYSPROPS">
      </typeController>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="com.neXtep.designer.dbgm.ui.newTable"
            name="%command.table.name">
         <commandParameter
               id="com.neXtep.designer.core.typeId"
               name="typeId">
         </commandParameter>
      </command>
      <command
            defaultHandler="com.nextep.designer.vcs.ui.handlers.NewTypedInstanceHandler"
            id="com.neXtep.designer.dbgm.ui.newColumn"
            name="%command.column.name">
         <commandParameter
               id="com.neXtep.designer.core.typeId"
               name="typeId">
         </commandParameter>
      </command>
      <command
            defaultHandler="com.nextep.designer.vcs.ui.handlers.NewTypedInstanceHandler"
            id="com.neXtep.designer.dbgm.ui.newUniqueKey"
            name="%command.uk.name">
         <commandParameter
               id="com.neXtep.designer.core.typeId"
               name="typeId">
         </commandParameter>
      </command>
      <command
            defaultHandler="com.nextep.designer.vcs.ui.handlers.NewTypedInstanceHandler"
            id="com.neXtep.designer.dbgm.ui.newForeignKey"
            name="%command.fk.name">
         <commandParameter
               id="com.neXtep.designer.core.typeId"
               name="typeId">
         </commandParameter>
      </command>
      <command
            defaultHandler="com.nextep.designer.vcs.ui.handlers.NewTypedInstanceHandler"
            id="com.neXtep.designer.dbgm.ui.newDiagram"
            name="%command.diagram.name">
         <commandParameter
               id="com.neXtep.designer.core.typeId"
               name="typeId">
         </commandParameter>
      </command>
      <command
            defaultHandler="com.nextep.designer.vcs.ui.handlers.NewTypedInstanceHandler"
            id="com.neXtep.designer.dbgm.ui.newDataSet"
            name="%command.dataset.name">
         <commandParameter
               id="com.neXtep.designer.core.typeId"
               name="typeId">
         </commandParameter>
      </command>
      <command
            defaultHandler="com.nextep.designer.vcs.ui.handlers.NewTypedInstanceHandler"
            id="com.neXtep.designer.dbgm.ui.newDataLine"
            name="%command.dataline.name">
         <commandParameter
               id="com.neXtep.designer.core.typeId"
               name="typeId">
         </commandParameter>
      </command>
      <command
            id="com.neXtep.designer.dbgm.ui.removeKey"
            name="%command.removeKey.name">
      </command>
      <command
            defaultHandler="com.nextep.designer.dbgm.ui.handlers.NewConnectionHandler"
            id="com.neXtep.designer.dbgm.ui.newConnection"
            name="%command.connection.name">
         <commandParameter
               id="com.neXtep.designer.core.typeId"
               name="typeId">
         </commandParameter>
         <commandParameter
               id="com.neXtep.designer.core.noEdition"
               name="noEdition"
               optional="true">
         </commandParameter>
      </command>
      <command
            defaultHandler="com.nextep.designer.vcs.ui.handlers.NewTypedInstanceHandler"
            id="com.neXtep.designer.dbgm.ui.newSequence"
            name="%command.sequence.name">
         <commandParameter
               id="com.neXtep.designer.core.typeId"
               name="typeId">
         </commandParameter>
      </command>
      <command
            defaultHandler="com.nextep.designer.vcs.ui.handlers.NewTypedInstanceHandler"
            id="com.neXtep.designer.dbgm.ui.newIndex"
            name="%command.index.name">
         <commandParameter
               id="com.neXtep.designer.core.typeId"
               name="typeId">
         </commandParameter>
      </command>
      <command
            defaultHandler="com.nextep.designer.vcs.ui.handlers.NewTypedInstanceHandler"
            id="com.neXtep.designer.dbgm.ui.newUserType"
            name="%command.usertype.name">
         <commandParameter
               id="com.neXtep.designer.core.typeId"
               name="typeId">
         </commandParameter>
      </command>
      <command
            defaultHandler="com.nextep.designer.vcs.ui.handlers.NewTypedInstanceHandler"
            id="com.neXtep.designer.dbgm.ui.newView"
            name="%command.view.name">
         <commandParameter
               id="com.neXtep.designer.core.typeId"
               name="typeId"
               optional="true">
         </commandParameter>
      </command>
      <command
            id="com.neXtep.designer.dbgm.ui.removeConnection"
            name="%command.removeConnection.name">
      </command>
      <command
            defaultHandler="com.nextep.designer.vcs.ui.handlers.NewTypedInstanceHandler"
            id="com.neXtep.designer.dbgm.ui.newTrigger"
            name="%command.trigger.name">
         <commandParameter
               id="com.neXtep.designer.core.typeId"
               name="typeId"
               optional="true">
         </commandParameter>
      </command>
      <command
            defaultHandler="com.nextep.designer.dbgm.ui.handlers.AutoLayoutDiagramHandler"
            id="com.neXtep.designer.dbgm.ui.autoLayout"
            name="%command.autolayout.name">
      </command>
      <command
            defaultHandler="com.nextep.designer.dbgm.ui.handlers.EditDiagramItemHandler"
            id="com.neXtep.designer.dbgm.ui.editDiagramItem"
            name="%command.openEditor.name">
      </command>
      <command
            defaultHandler="com.nextep.designer.dbgm.ui.handlers.AddTableToDiagramHandler"
            id="com.neXtep.designer.dbgm.ui.addTablesToDiagram"
            name="%command.addTables.name">
      </command>
      <command
            defaultHandler="com.nextep.designer.vcs.ui.handlers.NewTypedInstanceHandler"
            id="com.neXtep.designer.dbgm.ui.newDomain"
            name="%command.domain.name">
         <commandParameter
               id="com.neXtep.designer.core.typeId"
               name="typeId">
         </commandParameter>
      </command>
      <command
            defaultHandler="com.nextep.designer.vcs.ui.handlers.NewTypedInstanceHandler"
            id="com.neXtep.designer.dbgm.ui.newSynonym"
            name="%command.synonym.name">
         <commandParameter
               id="com.neXtep.designer.core.typeId"
               name="typeId">
         </commandParameter>
      </command>
      <command
            defaultHandler="com.nextep.designer.dbgm.ui.handlers.DependencyDiagramHandler"
            id="com.neXtep.designer.dbgm.ui.createDependencyDiagram"
            name="%command.dependenciesDiagram.name">
      </command>
      <command
            defaultHandler="com.nextep.designer.dbgm.ui.handlers.ExportDiagramAsImageHandler"
            id="com.neXtep.designer.dbgm.ui.exportDiagram"
            name="%command.exportDiagram">
      </command>
      <command
            defaultHandler="com.nextep.designer.vcs.ui.handlers.NewTypedInstanceHandler"
            id="com.neXtep.designer.dbgm.ui.newPhysProps"
            name="%command.createPhysical">
         <commandParameter
               id="com.neXtep.designer.core.typeId"
               name="typeId">
         </commandParameter>
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
         <command
               commandId="com.neXtep.designer.dbgm.ui.removeConnection"
               icon="resource/DeleteIconTiny.ico"
               style="push">
            <visibleWhen
                  checkEnabled="true">
            </visibleWhen>
         </command>
      </menuContribution>
      <menuContribution
            locationURI="popup:org.eclipse.ui.popup.any?after=actions">
         <command
               commandId="com.neXtep.designer.dbgm.ui.removeKey"
               icon="resource/DeleteIconTiny.ico"
               label="%command.deleteKey.label">
            <visibleWhen>
               <and>
                  <iterate
                        operator="and">
                     <instanceof
                           value="com.nextep.datadesigner.dbgm.model.IKeyConstraint">
                     </instanceof>
                  </iterate>
               </and>
            </visibleWhen>
         </command>
      </menuContribution>
      <menuContribution
            locationURI="toolbar:com.nextep.designer.dbgm.gef.DBGMGraphicalEditor">
         <command
               commandId="com.neXtep.designer.dbgm.ui.autoLayout"
               icon="resource/AutoLayoutTiny.ico"
               style="push">
            <visibleWhen
                  checkEnabled="true">
               <iterate
                     ifEmpty="false"
                     operator="or">
                  <or>
                     <instanceof
                           value="com.nextep.designer.dbgm.gef.editors.DiagramEditPart">
                     </instanceof>
                     <instanceof
                           value="com.nextep.designer.vcs.model.IDiagram">
                     </instanceof>
                  </or>
               </iterate>
            </visibleWhen>
         </command>
         <command
               commandId="com.neXtep.designer.dbgm.ui.exportDiagram"
               icon="resource/export_wiz.gif"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <iterate
                     ifEmpty="false"
                     operator="or">
                  <or>
                     <instanceof
                           value="com.nextep.designer.dbgm.gef.editors.DiagramEditPart">
                     </instanceof>
                  </or>
               </iterate>
            </visibleWhen>
         </command>
      </menuContribution>
      <menuContribution
            locationURI="popup:com.neXtep.designer.dbgm.ui.gef?after=editions">
         <command
               commandId="com.neXtep.designer.dbgm.ui.editDiagramItem"
               style="push">
            <visibleWhen
                  checkEnabled="true">
               <iterate
                     ifEmpty="false"
                     operator="or">
                  <instanceof
                        value="com.nextep.designer.dbgm.gef.editors.DiagramItemPart">
                  </instanceof>
               </iterate>
            </visibleWhen>
         </command>
         <command
               commandId="com.neXtep.designer.dbgm.ui.addTablesToDiagram"
               style="push">
            <visibleWhen
                  checkEnabled="true">
               <iterate
                     ifEmpty="false"
                     operator="or">
                  <instanceof
                        value="com.nextep.designer.dbgm.gef.editors.DiagramEditPart">
                  </instanceof>
               </iterate>
            </visibleWhen>
         </command>
      </menuContribution>
      <menuContribution
            locationURI="popup:com.neXtep.designer.dbgm.ui.gef?after=additions">
         <command
               commandId="com.neXtep.designer.dbgm.ui.autoLayout"
               icon="resource/AutoLayoutTiny.ico"
               style="push">
            <visibleWhen
                  checkEnabled="true">
               <iterate
                     ifEmpty="false"
                     operator="or">
                  <or>
                     <instanceof
                           value="com.nextep.designer.dbgm.gef.editors.DiagramEditPart">
                     </instanceof>
                     <instanceof
                           value="com.nextep.designer.vcs.model.IDiagram">
                     </instanceof>
                  </or>
               </iterate>
            </visibleWhen>
         </command>
         <command
               commandId="com.neXtep.designer.dbgm.ui.exportDiagram"
               icon="resource/export_wiz.gif"
               style="push">
         </command>
      </menuContribution>
      <menuContribution
            locationURI="popup:com.neXtep.designer.additions?after=standard">
         <command
               commandId="com.neXtep.designer.dbgm.ui.newTable"
               icon="resource/NewTableIconSmall.ico"
               label="%command.table.label">
            <visibleWhen
                  checkEnabled="true">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false">
                     <or>
                        <and>
                           <instanceof
                                 value="com.nextep.datadesigner.model.IElementType">
                           </instanceof>
                           <equals
                                 value="TABLE">
                           </equals>
                        </and>
                        <instanceof
                              value="com.nextep.designer.vcs.model.IVersionContainer">
                        </instanceof>
                        <and>
                           <instanceof
                                 value="com.nextep.designer.vcs.ui.model.ITypedNode">
                           </instanceof>
                           <test
                                 property="com.neXtep.designer.ui.typeId"
                                 value="TABLE">
                           </test>
                        </and>
                     </or>
                  </iterate>
               </and>
            </visibleWhen>
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="TABLE">
            </parameter>
         </command>
         <command
               commandId="com.neXtep.designer.dbgm.ui.newIndex"
               icon="resource/NewIndexSmall.ico"
               label="%command.index.label">
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="INDEX">
            </parameter>
            <visibleWhen
                  checkEnabled="true">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false"
                        operator="or">
                     <or>
                        <instanceof
                              value="com.nextep.datadesigner.dbgm.model.IBasicTable">
                        </instanceof>
                        <and>
                           <instanceof
                                 value="com.nextep.designer.vcs.ui.model.ITypedNode">
                           </instanceof>
                           <test
                                 property="com.neXtep.designer.ui.typeId"
                                 value="INDEX">
                           </test>
                        </and>
                        <instanceof
                              value="com.nextep.designer.vcs.model.IVersionContainer">
                        </instanceof>
                     </or>
                  </iterate>
               </and>
            </visibleWhen>
         </command>
         <command
               commandId="com.neXtep.designer.dbgm.ui.newView"
               icon="resource/NewViewSmall.ico"
               label="%command.view.label"
               style="push">
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="SQL_VIEW">
            </parameter>
            <visibleWhen
                  checkEnabled="true">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false"
                        operator="or">
                     <or>
                        <and>
                           <instanceof
                                 value="com.nextep.datadesigner.model.IElementType">
                           </instanceof>
                           <equals
                                 value="SQL_VIEW">
                           </equals>
                        </and>
                        <instanceof
                              value="com.nextep.designer.vcs.model.IVersionContainer">
                        </instanceof>
                        <and>
                           <instanceof
                                 value="com.nextep.designer.vcs.ui.model.ITypedNode">
                           </instanceof>
                           <test
                                 property="com.neXtep.designer.ui.typeId"
                                 value="SQL_VIEW">
                           </test>
                        </and>
                     </or>
                  </iterate>
               </and>
            </visibleWhen>
         </command>
         <command
               commandId="com.neXtep.designer.dbgm.ui.newColumn"
               icon="resource/NewColumnIconSmall.ico"
               label="%command.column.label"
               tooltip="%command.column.tooltip">
            <visibleWhen
                  checkEnabled="true">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false">
                     <or>
                        <and>
                           <instanceof
                                 value="com.nextep.datadesigner.model.IElementType">
                           </instanceof>
                           <equals
                                 value="COLUMN">
                           </equals>
                        </and>
                        <instanceof
                              value="com.nextep.datadesigner.dbgm.model.IBasicTable">
                        </instanceof>
                        <and>
                           <instanceof
                                 value="com.nextep.designer.vcs.ui.model.ITypedNode">
                           </instanceof>
                           <test
                                 property="com.neXtep.designer.ui.typeId"
                                 value="COLUMN">
                           </test>
                        </and>
                     </or>
                  </iterate>
               </and>
            </visibleWhen>
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="COLUMN">
            </parameter>
         </command>
         <command
               commandId="com.neXtep.designer.dbgm.ui.newUniqueKey"
               icon="resource/NewPrimaryKeySmall.png"
               label="%command.uk.label">
            <visibleWhen
                  checkEnabled="true">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false">
                     <or>
                        <instanceof
                              value="com.nextep.datadesigner.dbgm.model.IBasicTable">
                        </instanceof>
                        <and>
                           <instanceof
                                 value="com.nextep.datadesigner.model.IElementType">
                           </instanceof>
                           <equals
                                 value="UNIQUE_KEY">
                           </equals>
                        </and>
                        <and>
                           <instanceof
                                 value="com.nextep.designer.vcs.ui.model.ITypedNode">
                           </instanceof>
                           <test
                                 property="com.neXtep.designer.ui.typeId"
                                 value="UNIQUE_KEY">
                           </test>
                        </and>
                     </or>
                  </iterate>
               </and>
            </visibleWhen>
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="UNIQUE_KEY">
            </parameter>
         </command>
         <command
               commandId="com.neXtep.designer.dbgm.ui.newForeignKey"
               icon="resource/NewForeignKeySmall.png"
               label="%command.fk.label">
            <visibleWhen
                  checkEnabled="true">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false">
                     <or>
                        <instanceof
                              value="com.nextep.datadesigner.dbgm.model.IBasicTable">
                        </instanceof>
                        <and>
                           <instanceof
                                 value="com.nextep.datadesigner.model.IElementType">
                           </instanceof>
                           <equals
                                 value="FOREIGN_KEY">
                           </equals>
                        </and>
                        <and>
                           <instanceof
                                 value="com.nextep.designer.vcs.ui.model.ITypedNode">
                           </instanceof>
                           <test
                                 property="com.neXtep.designer.ui.typeId"
                                 value="FOREIGN_KEY">
                           </test>
                        </and>
                     </or>
                  </iterate>
               </and>
            </visibleWhen>
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="FOREIGN_KEY">
            </parameter>
         </command>
      </menuContribution>
      <menuContribution
            locationURI="popup:com.neXtep.designer.additions?before=standard">
         <command
               commandId="com.neXtep.designer.dbgm.ui.newDiagram"
               icon="resource/NewDiagramIconSmall.ico"
               label="%command.diagram.label">
            <visibleWhen
                  checkEnabled="true">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false">
                     <or>
                        <instanceof
                              value="com.nextep.designer.vcs.model.IVersionContainer">
                        </instanceof>
                        <and>
                           <instanceof
                                 value="com.nextep.datadesigner.model.IElementType">
                           </instanceof>
                           <equals
                                 value="DIAGRAM">
                           </equals>
                        </and>
                        <and>
                           <instanceof
                                 value="com.nextep.designer.vcs.ui.model.ITypedNode">
                           </instanceof>
                           <test
                                 property="com.neXtep.designer.ui.typeId"
                                 value="DIAGRAM">
                           </test>
                        </and>
                     </or>
                  </iterate>
               </and>
            </visibleWhen>
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="DIAGRAM">
            </parameter>
         </command>
      </menuContribution>
      <menuContribution
            locationURI="popup:com.neXtep.designer.additions?after=advanced">
         <command
               commandId="com.neXtep.designer.dbgm.ui.newTrigger"
               icon="resource/NewTriggerSmall.ico"
               label="%command.trigger.label"
               style="push">
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="TRIGGER">
            </parameter>
            <visibleWhen
                  checkEnabled="true">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false"
                        operator="or">
                     <or>
                        <and>
                           <instanceof
                                 value="com.nextep.datadesigner.model.IElementType">
                           </instanceof>
                           <equals
                                 value="TRIGGER">
                           </equals>
                        </and>
                        <instanceof
                              value="com.nextep.datadesigner.dbgm.model.IBasicTable">
                        </instanceof>
                        <adapt
                              type="com.nextep.datadesigner.dbgm.model.IView">
                           <test
                                 forcePluginActivation="true"
                                 property="com.neXtep.designer.matchVendor"
                                 value="ORACLE">
                           </test>
                        </adapt>
                        <instanceof
                              value="com.nextep.designer.vcs.model.IVersionContainer">
                        </instanceof>
                        <and>
                           <instanceof
                                 value="com.nextep.designer.vcs.ui.model.ITypedNode">
                           </instanceof>
                           <test
                                 property="com.neXtep.designer.ui.typeId"
                                 value="TRIGGER">
                           </test>
                        </and>
                     </or>
                  </iterate>
               </and>
            </visibleWhen>
         </command>
         <command
               commandId="com.neXtep.designer.dbgm.ui.newSequence"
               icon="resource/NewSequenceSmall.ico"
               label="%command.sequence.label">
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="SEQUENCE">
            </parameter>
            <visibleWhen
                  checkEnabled="true">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false"
                        operator="or">
                     <or>
                        <and>
                           <instanceof
                                 value="com.nextep.datadesigner.model.IElementType">
                           </instanceof>
                           <equals
                                 value="SEQUENCE">
                           </equals>
                        </and>
                        <adapt
                              type="com.nextep.designer.vcs.model.IVersionContainer">
                           <or>
                              <test
                                    forcePluginActivation="true"
                                    property="com.neXtep.designer.matchVendor"
                                    value="ORACLE">
                              </test>
                              <test
                                    forcePluginActivation="true"
                                    property="com.neXtep.designer.matchVendor"
                                    value="POSTGRE">
                              </test>
                           </or>
                        </adapt>
                        <and>
                           <instanceof
                                 value="com.nextep.designer.vcs.ui.model.ITypedNode">
                           </instanceof>
                           <test
                                 property="com.neXtep.designer.ui.typeId"
                                 value="SEQUENCE">
                           </test>
                        </and>
                     </or>
                  </iterate>
               </and>
            </visibleWhen>
         </command>
         <command
               commandId="com.neXtep.designer.dbgm.ui.newUserType"
               icon="resource/NewUserTypeSmall.ico"
               label="%command.usertype.label">
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="USER_TYPE">
            </parameter>
            <visibleWhen
                  checkEnabled="false">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false"
                        operator="or">
                     <or>
                        <and>
                           <instanceof
                                 value="com.nextep.datadesigner.model.IElementType">
                           </instanceof>
                           <equals
                                 value="USER_TYPE">
                           </equals>
                        </and>
                        <adapt
                              type="com.nextep.designer.vcs.model.IVersionContainer">
                           <test
                                 forcePluginActivation="true"
                                 property="com.neXtep.designer.matchVendor"
                                 value="ORACLE">
                           </test>
                        </adapt>
                        <and>
                           <instanceof
                                 value="com.nextep.designer.vcs.ui.model.ITypedNode">
                           </instanceof>
                           <test
                                 property="com.neXtep.designer.ui.typeId"
                                 value="USER_TYPE">
                           </test>
                        </and>
                     </or>
                  </iterate>
               </and>
            </visibleWhen>
         </command>
         <command
               commandId="com.neXtep.designer.dbgm.ui.newSynonym"
               icon="resource/NewSynonymSmall.ico"
               label="%command.synonym.label">
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="SYNONYM">
            </parameter>
            <visibleWhen
                  checkEnabled="true">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false"
                        operator="or">
                     <or>
                        <and>
                           <instanceof
                                 value="com.nextep.datadesigner.model.IElementType">
                           </instanceof>
                           <equals
                                 value="SYNONYM">
                           </equals>
                        </and>
                        <adapt
                              type="com.nextep.designer.vcs.model.IVersionContainer">
                           <test
                                 forcePluginActivation="true"
                                 property="com.neXtep.designer.matchVendor"
                                 value="ORACLE">
                           </test>
                        </adapt>
                        <and>
                           <instanceof
                                 value="com.nextep.designer.vcs.ui.model.ITypedNode">
                           </instanceof>
                           <test
                                 property="com.neXtep.designer.ui.typeId"
                                 value="SYNONYM">
                           </test>
                        </and>
                     </or>
                  </iterate>
               </and>
            </visibleWhen>
         </command>
         <command
               commandId="com.neXtep.designer.dbgm.ui.newDataSet"
               icon="resource/NewDataSetIconSmall.ico"
               label="%command.dataset.label">
            <visibleWhen
                  checkEnabled="true">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false">
                     <or>
                        <instanceof
                              value="com.nextep.datadesigner.dbgm.model.IBasicTable">
                        </instanceof>
                        <and>
                           <instanceof
                                 value="com.nextep.datadesigner.model.IElementType">
                           </instanceof>
                           <equals
                                 value="DATASET">
                           </equals>
                        </and>
                        <and>
                           <instanceof
                                 value="com.nextep.designer.vcs.ui.model.ITypedNode">
                           </instanceof>
                           <test
                                 property="com.neXtep.designer.ui.typeId"
                                 value="DATASET">
                           </test>
                        </and>
                     </or>
                  </iterate>
               </and>
            </visibleWhen>
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="DATASET">
            </parameter>
         </command>
         <command
               commandId="com.neXtep.designer.dbgm.ui.newDataLine"
               icon="resource/NewDataLineSmall.ico"
               label="%command.dataline.label">
            <visibleWhen
                  checkEnabled="true">
               <iterate
                     ifEmpty="false">
                  <instanceof
                        value="com.nextep.designer.dbgm.model.IDataSet">
                  </instanceof>
               </iterate>
            </visibleWhen>
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="DATALINE">
            </parameter>
         </command>
         <command
               commandId="com.neXtep.designer.dbgm.ui.newPhysProps"
               icon="resource/NewTablespaceSmall.ico"
               label="%command.physicals">
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="TAB_PHYSPROPS">
            </parameter>
            <visibleWhen
                  checkEnabled="true">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false"
                        operator="or">
                     <and>
                        <instanceof
                              value="com.nextep.designer.dbgm.model.IPhysicalObject">
                        </instanceof>
                        <instanceof
                              value="com.nextep.datadesigner.dbgm.model.IBasicTable">
                        </instanceof>
                     </and>
                  </iterate>
               </and>
            </visibleWhen>
         </command>
         <command
               commandId="com.neXtep.designer.dbgm.ui.newPhysProps"
               icon="resource/NewTablespaceSmall.ico"
               label="%command.physicals">
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="IND_PHYSPROPS">
            </parameter>
            <visibleWhen
                  checkEnabled="true">
               <and>
                  <count
                        value="1">
                  </count>
                  <iterate
                        ifEmpty="false"
                        operator="or">
                     <and>
                        <instanceof
                              value="com.nextep.designer.dbgm.model.IPhysicalObject">
                        </instanceof>
                        <or>
                           <instanceof
                                 value="com.nextep.datadesigner.dbgm.model.IIndex">
                           </instanceof>
                           <instanceof
                                 value="com.nextep.datadesigner.dbgm.impl.UniqueKeyConstraint">
                           </instanceof>
                        </or>
                     </and>
                  </iterate>
               </and>
            </visibleWhen>
         </command>
      </menuContribution>
      <menuContribution
            locationURI="toolbar:com.neXtep.designer.ui.toolbar.actions?before=standard">
         <command
               commandId="com.neXtep.designer.vcs.ui.newContainerBasedTypedObject"
               icon="resource/NewDiagramIconSmall.ico"
               label="%command.diagram.label">
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="DIAGRAM">
            </parameter>
         </command>
      </menuContribution>
      <menuContribution
            locationURI="toolbar:com.neXtep.designer.ui.toolbar.actions?after=standard">
         <command
               commandId="com.neXtep.designer.vcs.ui.newContainerBasedTypedObject"
               icon="resource/NewTableIconSmall.ico"
               label="%command.table.name">
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="TABLE">
            </parameter>
         </command>
         <command
               commandId="com.neXtep.designer.vcs.ui.newContainerBasedTypedObject"
               icon="resource/NewIndexSmall.ico"
               label="%command.index.name">
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="INDEX">
            </parameter>
         </command>
         <command
               commandId="com.neXtep.designer.vcs.ui.newContainerBasedTypedObject"
               icon="resource/NewViewSmall.ico"
               label="%command.view.name"
               style="push">
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="SQL_VIEW">
            </parameter>
         </command>
      </menuContribution>
      <menuContribution
            locationURI="toolbar:com.neXtep.designer.ui.toolbar.actions?after=advanced">
         <command
               commandId="com.neXtep.designer.vcs.ui.newContainerBasedTypedObject"
               icon="resource/NewTriggerSmall.ico"
               label="%command.trigger.name"
               style="push">
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="TRIGGER">
            </parameter>
         </command>
         <command
               commandId="com.neXtep.designer.vcs.ui.newContainerBasedTypedObject"
               icon="resource/NewSequenceSmall.ico"
               label="%command.sequence.name">
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="SEQUENCE">
            </parameter>
            <visibleWhen
                  checkEnabled="false">
               <or>
                  <test
                        property="com.neXtep.designer.matchVendor"
                        value="ORACLE">
                  </test>
                  <test
                        property="com.neXtep.designer.matchVendor"
                        value="POSTGRE">
                  </test>
               </or>
            </visibleWhen>
         </command>
         <command
               commandId="com.neXtep.designer.vcs.ui.newContainerBasedTypedObject"
               icon="resource/NewUserTypeSmall.ico"
               label="%command.usertype.name">
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="USER_TYPE">
            </parameter>
            <visibleWhen
                  checkEnabled="false">
               <test
                     property="com.neXtep.designer.matchVendor"
                     value="ORACLE">
               </test>
            </visibleWhen>
         </command>
         <command
               commandId="com.neXtep.designer.vcs.ui.newContainerBasedTypedObject"
               icon="resource/NewSynonymSmall.ico"
               label="%command.synonym.name">
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="SYNONYM">
            </parameter>
            <visibleWhen
                  checkEnabled="false">
               <test
                     property="com.neXtep.designer.matchVendor"
                     value="ORACLE">
               </test>
            </visibleWhen>
         </command>
         <command
               commandId="com.neXtep.designer.vcs.ui.newContainerBasedTypedObject"
               icon="resource/NewDataSetIconSmall.ico"
               label="%command.dataset.name">
            <parameter
                  name="com.neXtep.designer.core.typeId"
                  value="DATASET">
            </parameter>
         </command>
      </menuContribution>
      <menuContribution
            locationURI="toolbar:com.neXtep.designer.vcs.ui.dependenciesView">
         <separator
               name="com.neXtep.designer.dbgm.ui.depDiagSeparator"
               visible="true">
         </separator>
         <command
               commandId="com.neXtep.designer.dbgm.ui.createDependencyDiagram"
               icon="resource/impl_co.gif"
               style="push">
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="com.nextep.designer.vcs.ui.handlers.NewTypedInstanceHandler"
            commandId="com.neXtep.designer.dbgm.ui.newTable">
      </handler>
      <handler
            class="com.nextep.designer.dbgm.ui.handlers.RemoveKeyHandler"
            commandId="com.neXtep.designer.dbgm.ui.removeKey">
      </handler>
      <handler
            class="com.nextep.designer.dbgm.ui.handlers.RemoveConnectionHandler"
            commandId="com.neXtep.designer.dbgm.ui.removeConnection">
         <enabledWhen>
            <iterate
                  ifEmpty="false"
                  operator="or">
               <instanceof
                     value="com.nextep.designer.core.model.IConnection">
               </instanceof>
            </iterate>
         </enabledWhen>
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.views">
      <view
            allowMultiple="false"
            category="com.neXtep.designer.ui"
            class="com.nextep.designer.dbgm.ui.rcp.ConnectionsView"
            icon="resource/repositories-blue.gif"          id="com.neXtep.designer.dbgm.ui.connections"
            name="%view.connections.name">
      </view>
   </extension>
   <extension
         point="org.eclipse.ui.editors">
      <editor
            class="com.nextep.designer.dbgm.gef.DBGMGraphicalEditor"
            contributorClass="com.nextep.designer.dbgm.gef.DBGMGraphicalActionBarContributor"
            default="true"
            icon="resource/DiagramIconSmall.ico"
            id="com.neXtep.designer.dbgm.ui.diagramEditor"
            name="%editor.diagram.name">
      </editor>
      <editor
            class="com.nextep.designer.dbgm.ui.rcp.TableEditor"
            default="false"
            id="com.neXtep.designer.dbgm.ui.tableEditor"
            name="%editor.table.name">
      </editor>
      <editor
            class="com.nextep.designer.dbgm.ui.rcp.TypedFormRCPEditor"
            default="false"
            icon="resource/TableIconTiny.ico"
            id="com.neXtep.designer.dbgm.ui.typedFormEditor"
            name="%editor.form.table.name">
      </editor>
   </extension>
   <extension
         point="org.eclipse.ui.elementFactories">
      <factory
            class="com.nextep.designer.dbgm.ui.DiagramFactory"
            id="com.neXtep.designer.dbgm.ui.diagram">
      </factory>
      <factory
            class="com.nextep.designer.dbgm.ui.rcp.ConstraintPersister"
            id="com.neXtep.designer.dbgm.ui.constraintFactory">
      </factory>
   </extension>
   <extension
         point="com.neXtep.designer.ui.typePersister">
      <typePersister
            class="com.nextep.datadesigner.vcs.gui.external.VersionablePersister"
            typeId="TABLE">
      </typePersister>
      <typePersister
            class="com.nextep.datadesigner.vcs.gui.external.VersionablePersister"
            typeId="DATASET">
      </typePersister>
      <typePersister
            class="com.nextep.designer.dbgm.ui.rcp.ConstraintPersister"
            typeId="UNIQUE_KEY">
      </typePersister>
      <typePersister
            class="com.nextep.designer.dbgm.ui.rcp.ConstraintPersister"
            typeId="FOREIGN_KEY">
      </typePersister>
      <typePersister
            class="com.nextep.datadesigner.vcs.gui.external.VersionablePersister"
            typeId="SEQUENCE">
      </typePersister>
      <typePersister
            class="com.nextep.datadesigner.vcs.gui.external.VersionablePersister"
            typeId="INDEX">
      </typePersister>
      <typePersister
            class="com.nextep.datadesigner.vcs.gui.external.VersionablePersister"
            typeId="USER_TYPE">
      </typePersister>
      <typePersister
            class="com.nextep.datadesigner.vcs.gui.external.VersionablePersister"
            typeId="SYNONYM">
      </typePersister>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            category="com.nextep.designer.sqlgen.preferences.GeneratorPreferencePage"
            class="com.nextep.designer.dbgm.ui.preferences.DomainPreferencePage"
            id="com.neXtep.designer.dbgm.ui.domainPrefPage"
            name="%preferences.domains.name">
      </page>
   </extension>
   <extension
         point="org.eclipse.ui.navigator.navigatorContent">
      <navigatorContent
            contentProvider="com.nextep.designer.dbgm.ui.navigators.TableContentProvider"
            id="com.neXtep.designer.dbgm.ui.tables"
            labelProvider="com.nextep.designer.dbgm.ui.jface.DbgmLabelProvider"
            name="Table information">
         <triggerPoints>
            <or>
               <instanceof
                     value="com.nextep.datadesigner.dbgm.model.IBasicTable">
               </instanceof>
               <instanceof
                     value="com.nextep.datadesigner.dbgm.model.IBasicColumn">
               </instanceof>
            </or>
         </triggerPoints>
         <commonSorter
               class="com.nextep.designer.dbgm.ui.jface.TableColumnSorter">
         </commonSorter>
         <possibleChildren>
            <or>
               <instanceof
                     value="com.nextep.datadesigner.dbgm.model.IBasicColumn">
               </instanceof>
               <instanceof
                     value="com.nextep.datadesigner.dbgm.model.IKeyConstraint">
               </instanceof>
            </or>
         </possibleChildren>
      </navigatorContent>
      <navigatorContent
            contentProvider="com.nextep.designer.dbgm.ui.navigators.IndexContentProvider"
            id="com.neXtep.designer.dbgm.ui.index"
            labelProvider="com.nextep.designer.dbgm.ui.jface.DbgmLabelProvider"
            name="Index information">
         <triggerPoints>
            <instanceof
                  value="com.nextep.datadesigner.dbgm.model.IIndex">
            </instanceof>
         </triggerPoints>
         <commonSorter
               class="com.nextep.designer.dbgm.ui.jface.VoidSorter">
         </commonSorter>
      </navigatorContent>
      <navigatorContent
            contentProvider="com.nextep.designer.dbgm.ui.navigators.ConstraintContentProvider"
            id="com.neXtep.designer.dbgm.ui.constraints"
            labelProvider="com.nextep.designer.dbgm.ui.jface.DbgmLabelProvider"
            name="Constraint columns">
         <triggerPoints>
            <instanceof
                  value="com.nextep.datadesigner.dbgm.model.IKeyConstraint">
            </instanceof>
         </triggerPoints>
      </navigatorContent>
   </extension>
   <extension
         point="org.eclipse.ui.decorators">
      <decorator
            adaptable="true"
            class="com.nextep.designer.dbgm.ui.decorators.ForeignKeyColumnsDecorator"
            id="com.nextep.designer.dbgm.ui.fkDecorator"
            label="Foreign key decorator"
            lightweight="true"
            location="BOTTOM_RIGHT"
            state="true">
         <enablement>
            <objectClass
                  name="com.nextep.datadesigner.dbgm.model.IBasicColumn">
            </objectClass>
         </enablement>
      </decorator>
   </extension>
   <extension
         point="com.neXtep.designer.ui.typeUIComponent">
      <typeUIComponent
            class="com.nextep.designer.dbgm.ui.editors.ColumnFormEditor"
            typeId="COLUMN">
      </typeUIComponent>
      <typeUIComponent
            class="com.nextep.designer.dbgm.ui.editors.TableFormEditor"
            typeId="TABLE">
      </typeUIComponent>
      <typeUIComponent
            class="com.nextep.designer.dbgm.ui.editors.UniqueKeyFormEditor"
            typeId="UNIQUE_KEY">
      </typeUIComponent>
      <typeUIComponent
            class="com.nextep.designer.dbgm.ui.editors.IndexFormEditor"
            typeId="INDEX">
      </typeUIComponent>
      <typeUIComponent
            class="com.nextep.designer.dbgm.ui.editors.PartitionsFormEditor"
            typeId="TAB_PARTITION">
      </typeUIComponent>
      <typeUIComponent
            class="com.nextep.designer.dbgm.ui.editors.TablePartitionFormEditor"
            typeId="TAB_PARTITION">
      </typeUIComponent>
      <typeUIComponent
            class="com.nextep.designer.dbgm.ui.editors.ForeignKeyFormEditor"
            typeId="FOREIGN_KEY">
      </typeUIComponent>
      <typeUIComponent
            class="com.nextep.designer.dbgm.ui.editors.PartitionsFormEditor"
            typeId="IND_PARTITION">
      </typeUIComponent>
      <typeUIComponent
            class="com.nextep.designer.dbgm.ui.editors.IndexColumnsFormEditor"
            typeId="INDEX"
            vendor="JDBC">
      </typeUIComponent>
      <typeUIComponent
            class="com.nextep.designer.dbgm.ui.editors.IndexColumnsFormEditor"
            typeId="INDEX"
            vendor="DB2">
      </typeUIComponent>
      <typeUIComponent
            class="com.nextep.designer.dbgm.ui.editors.IndexColumnsFormEditor"
            typeId="INDEX"
            vendor="POSTGRE">
      </typeUIComponent>
      <typeUIComponent
            class="com.nextep.designer.dbgm.ui.editors.IndexColumnsFormEditor"
            typeId="INDEX"
            vendor="MSSQL">
      </typeUIComponent>
      <typeUIComponent
            class="com.nextep.designer.dbgm.ui.editors.CheckConstraintFormEditor"
            typeId="CHECK">
      </typeUIComponent>
   </extension>
   <extension
         point="com.neXtep.designer.ui.typeEditorPage">
      <typeEditorPage
            actionProvider="com.nextep.designer.dbgm.ui.actions.ColumnActionProvider"
            contentProvider="com.nextep.designer.dbgm.ui.jface.ColumnsContentProvider"
            icon="resource/ColumnIconSmall.ico"
            labelProvider="com.nextep.designer.dbgm.ui.jface.DbgmLabelProvider"
            title="%typeEditorPage.title.columns"
            typeId="COLUMN">
      </typeEditorPage>
      <typeEditorPage
            actionProvider="com.nextep.designer.dbgm.ui.actions.UniqueConstraintActionProvider"
            contentProvider="com.nextep.designer.dbgm.ui.jface.UniqueKeyContentProvider"
            icon="resource/KeysSmall.ico"
            labelProvider="com.nextep.designer.dbgm.ui.jface.DbgmLabelProvider"
            title="%typeEditorPage.title.constraints"
            typeId="UNIQUE_KEY">
      </typeEditorPage>
      <typeEditorPage
            actionProvider="com.nextep.designer.dbgm.ui.actions.ForeignKeyConstraintActionProvider"
            contentProvider="com.nextep.designer.dbgm.ui.jface.ForeignKeyContentProvider"
            icon="resource/ForeignKeySmall.ico"
            labelProvider="com.nextep.designer.dbgm.ui.jface.DbgmLabelProvider"
            title="%typeEditorPage.title.foreignKeys"
            typeId="FOREIGN_KEY">
      </typeEditorPage>
      <typeEditorPage
            actionProvider="com.nextep.designer.dbgm.ui.actions.IndexActionProvider"
            contentProvider="com.nextep.designer.dbgm.ui.jface.IndexContentProvider"
            icon="resource/IndexSmall.ico"
            labelProvider="com.nextep.designer.dbgm.ui.jface.DbgmLabelProvider"
            title="%typeEditorPage.title.index"
            typeId="INDEX">
      </typeEditorPage>
      <typeEditorPage
            actionProvider="com.nextep.designer.dbgm.ui.actions.TablePartitionsActionProvider"
            contentProvider="com.nextep.designer.dbgm.ui.jface.PartitionsContentProvider"
            icon="resource/TablePartitionSmall.ico"
            labelProvider="com.nextep.designer.dbgm.ui.jface.DbgmLabelProvider"
            title="%typeEditorPage.title.tabPartitions"
            typeId="TAB_PARTITION">
      </typeEditorPage>
      <typeEditorPage
            actionProvider="com.nextep.designer.dbgm.ui.actions.IndexPartitionsActionProvider"
            contentProvider="com.nextep.designer.dbgm.ui.jface.PartitionsContentProvider"
            icon="resource/IndexPartitionSmall.ico"
            labelProvider="com.nextep.designer.dbgm.ui.jface.DbgmLabelProvider"
            title="%typeEditorPage.title.indPartitions"
            typeId="IND_PARTITION">
      </typeEditorPage>
      <typeEditorPage
            actionProvider="com.nextep.designer.dbgm.ui.actions.CheckConstraintsActionProvider"
            contentProvider="com.nextep.designer.dbgm.ui.jface.CheckConstraintsContentProvider"
            icon="resource/CheckSmall.ico"
            labelProvider="com.nextep.designer.dbgm.ui.jface.DbgmLabelProvider"
            title="%typeEditorPage.title.checkConstraint"
            typeId="CHECK">
      </typeEditorPage>
   </extension>
   <extension
         point="com.neXtep.designer.ui.editorTypedPageContribution">
      <editorTypedPageContribution
            editorPageClass="com.nextep.designer.dbgm.ui.editors.TableOverviewPage"
            editorTypeId="TABLE"
            pageTypeId="TABLE">
      </editorTypedPageContribution>
      <editorTypedPageContribution
            editorTypeId="TABLE"
            pageTypeId="COLUMN">
      </editorTypedPageContribution>
      <editorTypedPageContribution
            editorTypeId="TABLE"
            pageTypeId="UNIQUE_KEY">
      </editorTypedPageContribution>
      <editorTypedPageContribution
            editorTypeId="TABLE"
            pageTypeId="FOREIGN_KEY">
      </editorTypedPageContribution>
      <editorTypedPageContribution
            editorTypeId="TABLE"
            pageTypeId="INDEX">
      </editorTypedPageContribution>
      <editorTypedPageContribution
            editorTypeId="INDEX"
            pageTypeId="INDEX"
            singleEdition="true">
      </editorTypedPageContribution>
   </extension>

</plugin>
